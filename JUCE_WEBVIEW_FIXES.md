# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è JUCE WebView

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –°—Å—ã–ª–∫–∏ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** `window.open()` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ JUCE WebView.

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —Ç–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è `OPEN_URL` –≤ JUCE bridge
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `openUrlInSystemBrowser()` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç WebView
- ‚úÖ –í WebView –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JUCE bridge, –≤ –±—Ä–∞—É–∑–µ—Ä–µ - `window.open()`

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `src/services/audio/juceBridge.ts` - –¥–æ–±–∞–≤–ª–µ–Ω `OPEN_URL` –∏ —Ñ—É–Ω–∫—Ü–∏—è `openUrlInSystemBrowser()`
- `src/components/UserMenu/UserMenu.tsx` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `openUrlInSystemBrowser()` –≤–º–µ—Å—Ç–æ `window.open()`

**–ß—Ç–æ –Ω—É–∂–Ω–æ –≤ JUCE:**
- –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ `OPEN_URL` –∏ –æ—Ç–∫—Ä—ã—Ç—å URL —á–µ—Ä–µ–∑ `juce::URL(url).launchInDefaultBrowser()`
- –°–º. `JUCE_BRIDGE_OPEN_URL.md` –¥–ª—è –¥–µ—Ç–∞–ª–µ–π

---

### 2. localStorage –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** Email, –ø–∞—Ä–æ–ª—å –∏ –ø—Ä–æ–µ–∫—Ç—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∏ —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–∏ –ø–ª–∞–≥–∏–Ω–∞.

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —É—Ç–∏–ª–∏—Ç–∞ `storage.ts` —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ localStorage
- ‚úÖ –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ localStorage –æ–±–µ—Ä–Ω—É—Ç—ã –≤ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `isLocalStorageAvailable()` –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `src/utils/storage.ts` - –Ω–æ–≤—ã–π —Ñ–∞–π–ª —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏
- `src/services/auth.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `src/services/projects.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

**–í–∞–∂–Ω–æ:**
- localStorage –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –≤ JUCE WebView
- –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –≤–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å localStorage –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö WebView
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ WebView –Ω–µ –æ—á–∏—â–∞–µ—Ç localStorage –ø—Ä–∏ —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–∏

---

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ localStorage –≤ JUCE WebView

–ï—Å–ª–∏ localStorage –≤—Å–µ –µ—â–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–í C++ –∫–æ–¥–µ (PluginProcessor.cpp –∏–ª–∏ PluginEditor.cpp):**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ WebView –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ localStorage
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ WebView: `webView->setOptions(juce::WebBrowserComponent::Options().withStorageAccess(true))`

2. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–µ—Å–ª–∏ localStorage –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω):**
   - –ú–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ JUCE bridge –≤ C++ –∫–æ–¥
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `juce::PropertiesFile` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞ –¥–∏—Å–∫
   - –°–º. –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é JUCE –¥–ª—è `PropertiesFile`

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ localStorage

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ) –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –∏–ª–∏ —á–µ—Ä–µ–∑ DevTools
console.log('localStorage available:', typeof window.localStorage !== 'undefined');
console.log('localStorage test:', (() => {
  try {
    window.localStorage.setItem('test', 'value');
    const result = window.localStorage.getItem('test') === 'value';
    window.localStorage.removeItem('test');
    return result;
  } catch {
    return false;
  }
})());
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—Å—ã–ª–æ–∫

–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `OPEN_URL` –≤ JUCE:
1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ "Sairyne Website" ‚Üí –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å–∏—Å—Ç–µ–º–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ "Leave feedback" ‚Üí –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å–∏—Å—Ç–µ–º–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ JUCE - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ `OPEN_URL`

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è JUCE —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

### –î–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—Å—ã–ª–æ–∫:
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ `messageType == "open_url"` –≤ C++
- [ ] URL –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ `json["payload"]["url"]`
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `juce::URL(url).launchInDefaultBrowser()`
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –æ—Ç–∫—Ä—ã—Ç–∏–µ —Å—Å—ã–ª–æ–∫

### –î–ª—è localStorage:
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ, —á—Ç–æ WebView –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ localStorage
- [ ] –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –Ω–∞—Å—Ç—Ä–æ–µ–Ω `PropertiesFile` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ email/–ø–∞—Ä–æ–ª—è –ø—Ä–∏ —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `OPEN_URL` –≤ JUCE** (—Å–º. `JUCE_BRIDGE_OPEN_URL.md`)
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å localStorage** –≤ WebView
3. **–ï—Å–ª–∏ localStorage –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `PropertiesFile` –≤ JUCE
4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ Ableton

---

**–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ JUCE –≤—Å–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å! üéâ**

