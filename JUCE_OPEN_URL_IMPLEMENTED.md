# ‚úÖ OPEN_URL —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ JUCE

## üéâ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –î–æ–±–∞–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è `openUrl` –≤ WebView

–í `PluginProcessor.cpp`:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `withEventListener` –¥–ª—è `openUrl` —Å–æ–±—ã—Ç–∏—è
- ‚úÖ –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `handleOpenUrlEvent()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏—è

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–π —Å—Ö–µ–º—ã `sairyne://open_url`

–í –º–µ—Ç–æ–¥–µ `handleCustomScheme()`:
- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è `sairyne://open_url?url=...`
- ‚úÖ URL –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç—Å—è –∏–∑ query –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
- ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ —á–µ—Ä–µ–∑ `juce::URL().launchInDefaultBrowser()`

### 3. –û–±–Ω–æ–≤–ª–µ–Ω JavaScript helper script

–í `getHelperScript()`:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `handleOpenUrl()` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–±—ã—Ç–∏—è –≤ JUCE
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `postMessage` interceptor –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ `OPEN_URL` —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `messageHandler` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ `OPEN_URL` –∏–∑ iframe

### 4. –û–±–Ω–æ–≤–ª–µ–Ω wrapper script

–í wrapper HTML:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ `OPEN_URL` —Å–æ–æ–±—â–µ–Ω–∏–π –≤ `addEventListener('message')`

---

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ JUCE bridge (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ)

1. Frontend –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç JSON —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `juceBridge.postMessage()`:
   ```json
   {
     "type": "open_url",
     "payload": { "url": "https://www.sairyne.net" }
   }
   ```

2. JavaScript helper script –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ `postMessage` interceptor

3. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `handleOpenUrl()` ‚Üí `bridge.emitEvent('openUrl', { url: ... })`

4. JUCE –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ —á–µ—Ä–µ–∑ `withEventListener` ‚Üí `handleOpenUrlEvent()`

5. URL –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –∫–∞—Å—Ç–æ–º–Ω—É—é —Å—Ö–µ–º—É (fallback)

1. –ï—Å–ª–∏ JUCE bridge –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `location.href = 'sairyne://open_url?url=...'`

2. `pageAboutToLoad()` –∏–ª–∏ `newWindowAttemptingToLoad()` –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç URL

3. `handleCustomScheme()` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `sairyne://open_url`

4. URL –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç—Å—è –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ

---

## üìù –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- ‚úÖ `/Users/trilium/Downloads/SairynePlugin/SairynePlugin1.0/NewProject/Source/PluginProcessor.cpp`
  - –î–æ–±–∞–≤–ª–µ–Ω `withEventListener` –¥–ª—è `openUrl`
  - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `handleOpenUrlEvent()`
  - –û–±–Ω–æ–≤–ª–µ–Ω `handleCustomScheme()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ `sairyne://open_url`
  - –û–±–Ω–æ–≤–ª–µ–Ω `getHelperScript()` –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ `OPEN_URL` —Å–æ–æ–±—â–µ–Ω–∏–π
  - –û–±–Ω–æ–≤–ª–µ–Ω wrapper script –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ `OPEN_URL` –∏–∑ iframe

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ JUCE –ø—Ä–æ–µ–∫—Ç–∞:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø–ª–∞–≥–∏–Ω –≤ Ableton**
2. **–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–Ω–∞—á–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** ‚Üí –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –º–µ–Ω—é
3. **–ù–∞–∂–º–∏—Ç–µ "Sairyne Website"** ‚Üí –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å–∏—Å—Ç–µ–º–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä —Å www.sairyne.net
4. **–ù–∞–∂–º–∏—Ç–µ "Leave feedback"** ‚Üí –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å–∏—Å—Ç–µ–º–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä —Å Google Form

---

## üîç –û—Ç–ª–∞–¥–∫–∞

–ï—Å–ª–∏ —Å—Å—ã–ª–∫–∏ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ JUCE:**
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `"Opening URL in system browser: ..."` –∏–ª–∏ `"handleOpenUrlEvent: ..."`
   - –õ–æ–≥–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤: `~/Library/Application Support/Sairyne/Sairyne.log`

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ frontend –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:**
   - –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞) –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: `[juceBridge] backend detected`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `openUrlInSystemBrowser()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ URL:**
   - –ï—Å–ª–∏ URL –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ JUCE

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–°–æ–±–µ—Ä–∏—Ç–µ JUCE –ø—Ä–æ–µ–∫—Ç:**
   ```bash
   # –í Xcode –∏–ª–∏ Visual Studio
   # Build ‚Üí Build Project
   ```

2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤ Ableton:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –ø–ª–∞–≥–∏–Ω
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ —Å—Å—ã–ª–æ–∫

3. **–ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ JUCE
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ frontend –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `juce::URL().launchInDefaultBrowser()` —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ

---

**OPEN_URL –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω! üéâ**

