# üîç –§–∏–Ω–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

## –ü—Ä–æ–±–ª–µ–º–∞

–í –ª–æ–≥–∞—Ö JUCE –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö, —Ö–æ—Ç—è –∫–æ–¥ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å.

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

1. **`console.log` –Ω–µ –≤–∏–¥–µ–Ω –≤ –ª–æ–≥–∞—Ö JUCE** - WebView –º–æ–∂–µ—Ç –Ω–µ –≤—ã–≤–æ–¥–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
2. **`location.href` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ iframe** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ URL –≤ iframe –º–æ–∂–µ—Ç –Ω–µ –≤–ª–∏—è—Ç—å –Ω–∞ wrapper
3. **–°–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è** - —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º–æ–≥—É—Ç –Ω–µ –≤—ã–∑—ã–≤–∞—Ç—å—Å—è

## –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –£–ª—É—á—à–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ helper script
   - –î–æ–±–∞–≤–ª–µ–Ω—ã 3 –º–µ—Ç–æ–¥–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏:
     - `window.top.location.href` (–¥–ª—è wrapper)
     - `location.href` (–ø—Ä—è–º–æ–π)
     - `window.parent.postMessage` (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π)

### 2. –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ C++
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –ª–æ–≥–∏ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª–∏–Ω—ã URL –∏ query string

### 3. –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ JUCE
   - –î–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ JUCE, –¥–∞–∂–µ –µ—Å–ª–∏ localStorage –¥–æ—Å—Ç—É–ø–µ–Ω

---

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª PropertiesFile

**macOS:**
```
~/Library/Application Support/Sairyne/Sairyne.properties
```

**Windows:**
```
%APPDATA%\Sairyne\Sairyne.properties
```

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ —Ç–∞–º –∫–ª—é—á–∏:
- `sairyne_users`
- `sairyne_current_user`
- `sairyne_projects`
- `sairyne_selected_project`

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ JUCE

**macOS:**
```
~/Library/Application Support/Sairyne/Sairyne.log
```

–ò—â–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
- `handleCustomScheme: detected sairyne://save_data`
- `handleCustomScheme: Saved data:`
- `handleCustomScheme: PropertiesFile path:`

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞)

–ò—â–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
- `[Storage] ‚úÖ Stored in memory:`
- `[Storage] üîÑ Saving to JUCE PropertiesFile:`
- `[JUCE Bridge] üîÑ saveDataToJuce called:`
- `[Helper] Intercepted SAVE_DATA:`

---

## üêõ –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤—Å–µ –µ—â–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ª–∏ `safeSetItem`?**
   - –î–æ–±–∞–≤—å—Ç–µ `alert('saving')` –ø–µ—Ä–µ–¥ `saveDataToJuce` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

2. **–û—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è?**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `isJuceAvailable()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true`

3. **–î–æ—Ö–æ–¥–∏—Ç –ª–∏ URL –¥–æ `handleCustomScheme`?**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ JUCE –Ω–∞ –Ω–∞–ª–∏—á–∏–µ `handleCustomScheme: detected`

4. **–°–æ–∑–¥–∞–µ—Ç—Å—è –ª–∏ PropertiesFile?**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Ñ–∞–π–ª `Sairyne.properties`

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ JUCE –ø—Ä–æ–µ–∫—Ç**
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:**
   - –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É
   - –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `Sairyne.properties`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   - `~/Library/Application Support/Sairyne/Sairyne.log`
4. **–ü—Ä–∏—à–ª–∏—Ç–µ:**
   - –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `Sairyne.properties` (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
   - –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤ JUCE

---

**–ï—Å–ª–∏ —Ñ–∞–π–ª PropertiesFile –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è, –∑–Ω–∞—á–∏—Ç –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ URL –Ω–µ –¥–æ—Ö–æ–¥–∏—Ç –¥–æ `handleCustomScheme`. –ù—É–∂–Ω–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –º–µ—Ö–∞–Ω–∏–∑–º –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö.**

